{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\servix-cmms\\\\frontend\\\\src\\\\components\\\\reports\\\\GenerateReportModal.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/reports/GenerateReportModal.js\nimport React, { useMemo, useState } from \"react\";\nimport { X, Download, Calendar, Loader2, Settings, BarChart3, FileText, Mail } from \"lucide-react\";\nimport api from \"../../utils/api\";\n\n// ---- Utility: Default lists ----\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst REPORT_TYPES = [{\n  key: \"equipmentStatus\",\n  label: \"Equipment Status Report\"\n}, {\n  key: \"taskManagement\",\n  label: \"Task Management Report\"\n}, {\n  key: \"preventiveVsCorrective\",\n  label: \"Preventive vs Corrective Maintenance Report\"\n}, {\n  key: \"staffPerformance\",\n  label: \"Engineer & Technician Performance Report\"\n}, {\n  key: \"inventorySpareParts\",\n  label: \"Spare Parts & Inventory Report\"\n}, {\n  key: \"downtimeAnalysis\",\n  label: \"Downtime Analysis Report\"\n}, {\n  key: \"financialCost\",\n  label: \"Financial/Cost Report\"\n}, {\n  key: \"complianceAudit\",\n  label: \"Compliance & Audit Report\"\n}];\nconst DEPARTMENTS = [\"ICU\", \"Theatre\", \"Radiology\", \"Physiotherapy\", \"Laboratory\", \"OPD\", \"Maternity\", \"ENT\", \"Dental\", \"Eye\"];\nconst EQUIPMENT_CATEGORIES = [\"Ventilator\", \"Defibrillator\", \"Monitor\", \"Infusion Pump\", \"Suction\", \"Autoclave\", \"X-Ray\", \"Ultrasound\"];\nconst FORMATS = [{\n  key: \"pdf\",\n  label: \"PDF (with charts)\"\n}, {\n  key: \"xlsx\",\n  label: \"Excel (editable)\"\n}, {\n  key: \"docx\",\n  label: \"Word (narrative)\"\n}];\nfunction Toggle({\n  checked,\n  onChange,\n  id\n}) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    \"aria-pressed\": checked,\n    onClick: () => onChange(!checked),\n    className: `relative inline-flex h-6 w-11 items-center rounded-full transition ${checked ? \"bg-indigo-600\" : \"bg-gray-300\"}`,\n    id: id,\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `inline-block h-4 w-4 transform rounded-full bg-white transition ${checked ? \"translate-x-6\" : \"translate-x-1\"}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_c = Toggle;\nexport default function GenerateReportModal({\n  open,\n  onClose\n}) {\n  _s();\n  const today = useMemo(() => new Date().toISOString().slice(0, 10), []);\n\n  // ----- Form State -----\n  const [selectedReports, setSelectedReports] = useState([]);\n  const [dateFrom, setDateFrom] = useState(today);\n  const [dateTo, setDateTo] = useState(today);\n  const [departments, setDepartments] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [staff, setStaff] = useState(\"\");\n  const [format, setFormat] = useState(\"pdf\");\n  const [includeCharts, setIncludeCharts] = useState(true);\n  const [includeSummary, setIncludeSummary] = useState(true);\n  const [interactiveExport, setInteractiveExport] = useState(false);\n  const [trendPrediction, setTrendPrediction] = useState(false);\n  const [heatMaps, setHeatMaps] = useState(false);\n  const [scheduleEnabled, setScheduleEnabled] = useState(false);\n  const [scheduleFreq, setScheduleFreq] = useState(\"monthly\"); // weekly | monthly | quarterly\n  const [deliveryNow, setDeliveryNow] = useState(true);\n  const [deliveryEmail, setDeliveryEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [successMsg, setSuccessMsg] = useState(\"\");\n  const toggleInArray = (value, arr, setter) => {\n    if (arr.includes(value)) setter(arr.filter(v => v !== value));else setter([...arr, value]);\n  };\n  const handleGenerate = async () => {\n    setError(\"\");\n    setSuccessMsg(\"\");\n    if (selectedReports.length === 0) {\n      setError(\"Select at least one report type.\");\n      return;\n    }\n    if (new Date(dateFrom) > new Date(dateTo)) {\n      setError(\"Start date cannot be after end date.\");\n      return;\n    }\n    const payload = {\n      reports: selectedReports,\n      filters: {\n        dateFrom,\n        dateTo,\n        departments,\n        categories,\n        staff: staff || undefined\n      },\n      options: {\n        format,\n        // pdf | xlsx | docx\n        visuals: {\n          charts: includeCharts,\n          summary: includeSummary\n        },\n        advanced: {\n          interactiveExport,\n          trendPrediction,\n          heatMaps\n        },\n        schedule: scheduleEnabled ? {\n          enabled: true,\n          frequency: scheduleFreq\n        } : {\n          enabled: false\n        },\n        delivery: {\n          downloadNow: deliveryNow,\n          email: deliveryEmail || undefined\n        }\n      }\n    };\n    try {\n      setLoading(true);\n\n      // Prefer blob stream for immediate download\n      const response = await api.post(\"/reports/generate\", payload, {\n        responseType: \"blob\",\n        headers: {\n          \"x-return-blob\": \"1\"\n        }\n      });\n      const contentType = response.headers[\"content-type\"];\n      if (contentType && contentType.includes(\"application/json\")) {\n        // Blob -> JSON (URL mode or error)\n        const text = await response.data.text();\n        const json = JSON.parse(text);\n        if (json !== null && json !== void 0 && json.fileUrl) {\n          window.open(json.fileUrl, \"_blank\");\n          setSuccessMsg(\"Report is ready. Opened download link in a new tab.\");\n        } else if (json !== null && json !== void 0 && json.message) {\n          setError(json.message);\n        } else {\n          setError(\"Unexpected server response.\");\n        }\n      } else {\n        // Treat as file blob and download\n        const blob = response.data;\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        const ext = format === \"xlsx\" ? \"xlsx\" : format === \"docx\" ? \"docx\" : \"pdf\";\n        a.href = url;\n        a.download = `cmms-report-${Date.now()}.${ext}`;\n        document.body.appendChild(a);\n        a.click();\n        a.remove();\n        window.URL.revokeObjectURL(url);\n        setSuccessMsg(\"Report downloaded successfully.\");\n      }\n      if (scheduleEnabled || !deliveryNow && deliveryEmail) {\n        setSuccessMsg(prev => `${prev} Scheduled/email delivery configured.`);\n      }\n    } catch (err) {\n      try {\n        var _err$response, _err$response$data, _err$response$data$te, _err$response2, _err$response2$data;\n        const text = await (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : (_err$response$data$te = _err$response$data.text) === null || _err$response$data$te === void 0 ? void 0 : _err$response$data$te.call(_err$response$data));\n        const json = text ? JSON.parse(text) : null;\n        setError((json === null || json === void 0 ? void 0 : json.message) || (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message || \"Failed to generate report.\");\n      } catch (_) {\n        var _err$response3, _err$response3$data;\n        setError((err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message || \"Failed to generate report.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex items-center justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black/40\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full max-w-4xl rounded-2xl bg-white shadow-2xl ring-1 ring-black/5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between border-b p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold\",\n            children: \"Generate Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"rounded-full p-2 hover:bg-gray-100\",\n          \"aria-label\": \"Close\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-[75vh] overflow-y-auto p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-2 text-sm font-medium text-gray-700\",\n            children: \"Report Types\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-2 sm:grid-cols-2\",\n            children: REPORT_TYPES.map(r => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex cursor-pointer items-center gap-3 rounded-xl border p-3 hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: selectedReports.includes(r.key),\n                onChange: () => toggleInArray(r.key, selectedReports, setSelectedReports),\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: r.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this)]\n            }, r.key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-2 text-sm font-medium text-gray-700\",\n            children: \"Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4 md:grid-cols-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"w-28 text-sm text-gray-600\",\n                children: \"Date From\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: dateFrom,\n                onChange: e => setDateFrom(e.target.value),\n                className: \"w-full rounded-lg border p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"w-28 text-sm text-gray-600\",\n                children: \"Date To\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: dateTo,\n                onChange: e => setDateTo(e.target.value),\n                className: \"w-full rounded-lg border p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mb-1 block text-sm text-gray-600\",\n                children: \"Departments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: DEPARTMENTS.map(d => /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => toggleInArray(d, departments, setDepartments),\n                  className: `rounded-full border px-3 py-1 text-sm ${departments.includes(d) ? \"bg-indigo-600 text-white\" : \"bg-gray-50\"}`,\n                  children: d\n                }, d, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mb-1 block text-sm text-gray-600\",\n                children: \"Equipment Categories\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: EQUIPMENT_CATEGORIES.map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => toggleInArray(c, categories, setCategories),\n                  className: `rounded-full border px-3 py-1 text-sm ${categories.includes(c) ? \"bg-indigo-600 text-white\" : \"bg-gray-50\"}`,\n                  children: c\n                }, c, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"mb-1 block text-sm text-gray-600\",\n                children: \"Filter by Staff (optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: staff,\n                onChange: e => setStaff(e.target.value),\n                placeholder: \"e.g., Eng. Mensah or Tech. Adwoa\",\n                className: \"w-full rounded-lg border p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-2 flex items-center gap-2 text-sm font-medium text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), \" Output Options\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4 md:grid-cols-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1 text-sm text-gray-600\",\n                children: \"Format\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: FORMATS.map(f => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex cursor-pointer items-center gap-2 rounded-lg border px-3 py-2 hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"format\",\n                    checked: format === f.key,\n                    onChange: () => setFormat(f.key)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: f.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 23\n                  }, this)]\n                }, f.key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between rounded-xl border p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Include Charts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Pie, bar, trend lines in PDF/Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n                checked: includeCharts,\n                onChange: setIncludeCharts,\n                id: \"charts\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between rounded-xl border p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Include Auto Summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"One-paragraph insights at top\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n                checked: includeSummary,\n                onChange: setIncludeSummary,\n                id: \"summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-2 flex items-center gap-2 text-sm font-medium text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), \" Advanced Options\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4 md:grid-cols-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between rounded-xl border p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Interactive Dashboard Export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Enable drill-down in Excel/online\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n                checked: interactiveExport,\n                onChange: setInteractiveExport,\n                id: \"interactive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between rounded-xl border p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Trend Prediction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Flag likely-to-fail equipment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n                checked: trendPrediction,\n                onChange: setTrendPrediction,\n                id: \"prediction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between rounded-xl border p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Heat Maps\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Highlight heavy-load departments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n                checked: heatMaps,\n                onChange: setHeatMaps,\n                id: \"heatmaps\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mb-2 flex items-center gap-2 text-sm font-medium text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), \" Schedule & Delivery\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4 md:grid-cols-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between rounded-xl border p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Schedule\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Email reports automatically\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n                checked: scheduleEnabled,\n                onChange: setScheduleEnabled,\n                id: \"schedule\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), scheduleEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"w-28 text-sm text-gray-600\",\n                children: \"Frequency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: scheduleFreq,\n                onChange: e => setScheduleFreq(e.target.value),\n                className: \"w-full rounded-lg border p-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"weekly\",\n                  children: \"Weekly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"monthly\",\n                  children: \"Monthly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"quarterly\",\n                  children: \"Quarterly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between rounded-xl border p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Download Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Save file to device\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n                checked: deliveryNow,\n                onChange: setDeliveryNow,\n                id: \"downloadNow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"w-28 text-sm text-gray-600\",\n                children: \"Email To\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex w-full gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  value: deliveryEmail,\n                  onChange: e => setDeliveryEmail(e.target.value),\n                  placeholder: \"e.g., admin@hospital.org\",\n                  className: \"w-full rounded-lg border p-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  title: \"Optional email destination\",\n                  children: /*#__PURE__*/_jsxDEV(Mail, {\n                    className: \"w-5 h-5 text-gray-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-800\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this), successMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800\",\n          children: successMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between gap-3 border-t p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Your selections will generate consolidated reports with charts and summaries.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"rounded-xl border px-4 py-2 text-sm hover:bg-gray-50\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGenerate,\n            disabled: loading,\n            className: \"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700 disabled:cursor-not-allowed disabled:opacity-60\",\n            children: [loading ? /*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"h-4 w-4 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 26\n            }, this) : /*#__PURE__*/_jsxDEV(Download, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 73\n            }, this), loading ? \"Generating...\" : \"Generate\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n}\n_s(GenerateReportModal, \"VF0r9bDdLjrMpr+vqRxZhtAd6XM=\");\n_c2 = GenerateReportModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"Toggle\");\n$RefreshReg$(_c2, \"GenerateReportModal\");","map":{"version":3,"names":["React","useMemo","useState","X","Download","Calendar","Loader2","Settings","BarChart3","FileText","Mail","api","jsxDEV","_jsxDEV","REPORT_TYPES","key","label","DEPARTMENTS","EQUIPMENT_CATEGORIES","FORMATS","Toggle","checked","onChange","id","type","onClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","GenerateReportModal","open","onClose","_s","today","Date","toISOString","slice","selectedReports","setSelectedReports","dateFrom","setDateFrom","dateTo","setDateTo","departments","setDepartments","categories","setCategories","staff","setStaff","format","setFormat","includeCharts","setIncludeCharts","includeSummary","setIncludeSummary","interactiveExport","setInteractiveExport","trendPrediction","setTrendPrediction","heatMaps","setHeatMaps","scheduleEnabled","setScheduleEnabled","scheduleFreq","setScheduleFreq","deliveryNow","setDeliveryNow","deliveryEmail","setDeliveryEmail","loading","setLoading","error","setError","successMsg","setSuccessMsg","toggleInArray","value","arr","setter","includes","filter","v","handleGenerate","length","payload","reports","filters","undefined","options","visuals","charts","summary","advanced","schedule","enabled","frequency","delivery","downloadNow","email","response","post","responseType","headers","contentType","text","data","json","JSON","parse","fileUrl","window","message","blob","url","URL","createObjectURL","a","document","createElement","ext","href","download","now","body","appendChild","click","remove","revokeObjectURL","prev","err","_err$response","_err$response$data","_err$response$data$te","_err$response2","_err$response2$data","call","_","_err$response3","_err$response3$data","map","r","e","target","d","c","placeholder","f","name","title","disabled","_c2","$RefreshReg$"],"sources":["C:/Users/USER/Desktop/servix-cmms/frontend/src/components/reports/GenerateReportModal.js"],"sourcesContent":["// frontend/src/components/reports/GenerateReportModal.js\r\nimport React, { useMemo, useState } from \"react\";\r\nimport {\r\n  X, Download, Calendar, Loader2, Settings,\r\n  BarChart3, FileText, Mail\r\n} from \"lucide-react\";\r\nimport api from \"../../utils/api\";\r\n\r\n// ---- Utility: Default lists ----\r\nconst REPORT_TYPES = [\r\n  { key: \"equipmentStatus\", label: \"Equipment Status Report\" },\r\n  { key: \"taskManagement\", label: \"Task Management Report\" },\r\n  { key: \"preventiveVsCorrective\", label: \"Preventive vs Corrective Maintenance Report\" },\r\n  { key: \"staffPerformance\", label: \"Engineer & Technician Performance Report\" },\r\n  { key: \"inventorySpareParts\", label: \"Spare Parts & Inventory Report\" },\r\n  { key: \"downtimeAnalysis\", label: \"Downtime Analysis Report\" },\r\n  { key: \"financialCost\", label: \"Financial/Cost Report\" },\r\n  { key: \"complianceAudit\", label: \"Compliance & Audit Report\" },\r\n];\r\n\r\nconst DEPARTMENTS = [\"ICU\", \"Theatre\", \"Radiology\", \"Physiotherapy\", \"Laboratory\", \"OPD\", \"Maternity\", \"ENT\", \"Dental\", \"Eye\"];\r\nconst EQUIPMENT_CATEGORIES = [\"Ventilator\", \"Defibrillator\", \"Monitor\", \"Infusion Pump\", \"Suction\", \"Autoclave\", \"X-Ray\", \"Ultrasound\"];\r\nconst FORMATS = [\r\n  { key: \"pdf\", label: \"PDF (with charts)\" },\r\n  { key: \"xlsx\", label: \"Excel (editable)\" },\r\n  { key: \"docx\", label: \"Word (narrative)\" },\r\n];\r\n\r\nfunction Toggle({ checked, onChange, id }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      aria-pressed={checked}\r\n      onClick={() => onChange(!checked)}\r\n      className={`relative inline-flex h-6 w-11 items-center rounded-full transition ${checked ? \"bg-indigo-600\" : \"bg-gray-300\"}`}\r\n      id={id}\r\n    >\r\n      <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition ${checked ? \"translate-x-6\" : \"translate-x-1\"}`} />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default function GenerateReportModal({ open, onClose }) {\r\n  const today = useMemo(() => new Date().toISOString().slice(0, 10), []);\r\n\r\n  // ----- Form State -----\r\n  const [selectedReports, setSelectedReports] = useState([]);\r\n  const [dateFrom, setDateFrom] = useState(today);\r\n  const [dateTo, setDateTo] = useState(today);\r\n  const [departments, setDepartments] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [staff, setStaff] = useState(\"\");\r\n  const [format, setFormat] = useState(\"pdf\");\r\n  const [includeCharts, setIncludeCharts] = useState(true);\r\n  const [includeSummary, setIncludeSummary] = useState(true);\r\n  const [interactiveExport, setInteractiveExport] = useState(false);\r\n  const [trendPrediction, setTrendPrediction] = useState(false);\r\n  const [heatMaps, setHeatMaps] = useState(false);\r\n\r\n  const [scheduleEnabled, setScheduleEnabled] = useState(false);\r\n  const [scheduleFreq, setScheduleFreq] = useState(\"monthly\"); // weekly | monthly | quarterly\r\n  const [deliveryNow, setDeliveryNow] = useState(true);\r\n  const [deliveryEmail, setDeliveryEmail] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [successMsg, setSuccessMsg] = useState(\"\");\r\n\r\n  const toggleInArray = (value, arr, setter) => {\r\n    if (arr.includes(value)) setter(arr.filter((v) => v !== value));\r\n    else setter([...arr, value]);\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    setError(\"\");\r\n    setSuccessMsg(\"\");\r\n\r\n    if (selectedReports.length === 0) {\r\n      setError(\"Select at least one report type.\");\r\n      return;\r\n    }\r\n    if (new Date(dateFrom) > new Date(dateTo)) {\r\n      setError(\"Start date cannot be after end date.\");\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      reports: selectedReports,\r\n      filters: {\r\n        dateFrom,\r\n        dateTo,\r\n        departments,\r\n        categories,\r\n        staff: staff || undefined,\r\n      },\r\n      options: {\r\n        format, // pdf | xlsx | docx\r\n        visuals: { charts: includeCharts, summary: includeSummary },\r\n        advanced: {\r\n          interactiveExport,\r\n          trendPrediction,\r\n          heatMaps,\r\n        },\r\n        schedule: scheduleEnabled ? { enabled: true, frequency: scheduleFreq } : { enabled: false },\r\n        delivery: { downloadNow: deliveryNow, email: deliveryEmail || undefined },\r\n      },\r\n    };\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Prefer blob stream for immediate download\r\n      const response = await api.post(\"/reports/generate\", payload, {\r\n        responseType: \"blob\",\r\n        headers: { \"x-return-blob\": \"1\" }\r\n      });\r\n\r\n      const contentType = response.headers[\"content-type\"];\r\n\r\n      if (contentType && contentType.includes(\"application/json\")) {\r\n        // Blob -> JSON (URL mode or error)\r\n        const text = await response.data.text();\r\n        const json = JSON.parse(text);\r\n        if (json?.fileUrl) {\r\n          window.open(json.fileUrl, \"_blank\");\r\n          setSuccessMsg(\"Report is ready. Opened download link in a new tab.\");\r\n        } else if (json?.message) {\r\n          setError(json.message);\r\n        } else {\r\n          setError(\"Unexpected server response.\");\r\n        }\r\n      } else {\r\n        // Treat as file blob and download\r\n        const blob = response.data;\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement(\"a\");\r\n        const ext = format === \"xlsx\" ? \"xlsx\" : format === \"docx\" ? \"docx\" : \"pdf\";\r\n        a.href = url;\r\n        a.download = `cmms-report-${Date.now()}.${ext}`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        a.remove();\r\n        window.URL.revokeObjectURL(url);\r\n        setSuccessMsg(\"Report downloaded successfully.\");\r\n      }\r\n\r\n      if (scheduleEnabled || (!deliveryNow && deliveryEmail)) {\r\n        setSuccessMsg((prev) => `${prev} Scheduled/email delivery configured.`);\r\n      }\r\n    } catch (err) {\r\n      try {\r\n        const text = await err?.response?.data?.text?.();\r\n        const json = text ? JSON.parse(text) : null;\r\n        setError(json?.message || err?.response?.data?.message || err.message || \"Failed to generate report.\");\r\n      } catch (_) {\r\n        setError(err?.response?.data?.message || err.message || \"Failed to generate report.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      {/* Backdrop */}\r\n      <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\r\n\r\n      {/* Modal */}\r\n      <div className=\"relative w-full max-w-4xl rounded-2xl bg-white shadow-2xl ring-1 ring-black/5\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between border-b p-5\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <FileText className=\"h-5 w-5\" />\r\n            <h2 className=\"text-lg font-semibold\">Generate Report</h2>\r\n          </div>\r\n          <button onClick={onClose} className=\"rounded-full p-2 hover:bg-gray-100\" aria-label=\"Close\">\r\n            <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Body */}\r\n        <div className=\"max-h-[75vh] overflow-y-auto p-5\">\r\n          {/* Report Types */}\r\n          <section className=\"mb-6\">\r\n            <h3 className=\"mb-2 text-sm font-medium text-gray-700\">Report Types</h3>\r\n            <div className=\"grid grid-cols-1 gap-2 sm:grid-cols-2\">\r\n              {REPORT_TYPES.map((r) => (\r\n                <label key={r.key} className=\"flex cursor-pointer items-center gap-3 rounded-xl border p-3 hover:bg-gray-50\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedReports.includes(r.key)}\r\n                    onChange={() => toggleInArray(r.key, selectedReports, setSelectedReports)}\r\n                    className=\"h-4 w-4\"\r\n                  />\r\n                  <span>{r.label}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Filters */}\r\n          <section className=\"mb-6\">\r\n            <h3 className=\"mb-2 text-sm font-medium text-gray-700\">Filters</h3>\r\n            <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <label className=\"w-28 text-sm text-gray-600\">Date From</label>\r\n                <input type=\"date\" value={dateFrom} onChange={(e) => setDateFrom(e.target.value)} className=\"w-full rounded-lg border p-2\" />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <label className=\"w-28 text-sm text-gray-600\">Date To</label>\r\n                <input type=\"date\" value={dateTo} onChange={(e) => setDateTo(e.target.value)} className=\"w-full rounded-lg border p-2\" />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"mb-1 block text-sm text-gray-600\">Departments</label>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {DEPARTMENTS.map((d) => (\r\n                    <button\r\n                      type=\"button\"\r\n                      key={d}\r\n                      onClick={() => toggleInArray(d, departments, setDepartments)}\r\n                      className={`rounded-full border px-3 py-1 text-sm ${departments.includes(d) ? \"bg-indigo-600 text-white\" : \"bg-gray-50\"}`}\r\n                    >\r\n                      {d}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"mb-1 block text-sm text-gray-600\">Equipment Categories</label>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {EQUIPMENT_CATEGORIES.map((c) => (\r\n                    <button\r\n                      type=\"button\"\r\n                      key={c}\r\n                      onClick={() => toggleInArray(c, categories, setCategories)}\r\n                      className={`rounded-full border px-3 py-1 text-sm ${categories.includes(c) ? \"bg-indigo-600 text-white\" : \"bg-gray-50\"}`}\r\n                    >\r\n                      {c}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"mb-1 block text-sm text-gray-600\">Filter by Staff (optional)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={staff}\r\n                  onChange={(e) => setStaff(e.target.value)}\r\n                  placeholder=\"e.g., Eng. Mensah or Tech. Adwoa\"\r\n                  className=\"w-full rounded-lg border p-2\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Output Options */}\r\n          <section className=\"mb-6\">\r\n            <h3 className=\"mb-2 flex items-center gap-2 text-sm font-medium text-gray-700\">\r\n              <BarChart3 className=\"h-4 w-4\" /> Output Options\r\n            </h3>\r\n            <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n              <div>\r\n                <div className=\"mb-1 text-sm text-gray-600\">Format</div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {FORMATS.map((f) => (\r\n                    <label key={f.key} className=\"flex cursor-pointer items-center gap-2 rounded-lg border px-3 py-2 hover:bg-gray-50\">\r\n                      <input type=\"radio\" name=\"format\" checked={format === f.key} onChange={() => setFormat(f.key)} />\r\n                      <span>{f.label}</span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between rounded-xl border p-3\">\r\n                <div>\r\n                  <div className=\"text-sm font-medium\">Include Charts</div>\r\n                  <div className=\"text-xs text-gray-500\">Pie, bar, trend lines in PDF/Excel</div>\r\n                </div>\r\n                <Toggle checked={includeCharts} onChange={setIncludeCharts} id=\"charts\" />\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between rounded-xl border p-3\">\r\n                <div>\r\n                  <div className=\"text-sm font-medium\">Include Auto Summary</div>\r\n                  <div className=\"text-xs text-gray-500\">One-paragraph insights at top</div>\r\n                </div>\r\n                <Toggle checked={includeSummary} onChange={setIncludeSummary} id=\"summary\" />\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Advanced Options */}\r\n          <section className=\"mb-6\">\r\n            <h3 className=\"mb-2 flex items-center gap-2 text-sm font-medium text-gray-700\">\r\n              <Settings className=\"h-4 w-4\" /> Advanced Options\r\n            </h3>\r\n            <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n              <div className=\"flex items-center justify-between rounded-xl border p-3\">\r\n                <div>\r\n                  <div className=\"text-sm font-medium\">Interactive Dashboard Export</div>\r\n                  <div className=\"text-xs text-gray-500\">Enable drill-down in Excel/online</div>\r\n                </div>\r\n                <Toggle checked={interactiveExport} onChange={setInteractiveExport} id=\"interactive\" />\r\n              </div>\r\n              <div className=\"flex items-center justify-between rounded-xl border p-3\">\r\n                <div>\r\n                  <div className=\"text-sm font-medium\">Trend Prediction</div>\r\n                  <div className=\"text-xs text-gray-500\">Flag likely-to-fail equipment</div>\r\n                </div>\r\n                <Toggle checked={trendPrediction} onChange={setTrendPrediction} id=\"prediction\" />\r\n              </div>\r\n              <div className=\"flex items-center justify-between rounded-xl border p-3\">\r\n                <div>\r\n                  <div className=\"text-sm font-medium\">Heat Maps</div>\r\n                  <div className=\"text-xs text-gray-500\">Highlight heavy-load departments</div>\r\n                </div>\r\n                <Toggle checked={heatMaps} onChange={setHeatMaps} id=\"heatmaps\" />\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Schedule & Delivery */}\r\n          <section className=\"mb-2\">\r\n            <h3 className=\"mb-2 flex items-center gap-2 text-sm font-medium text-gray-700\">\r\n              <Calendar className=\"h-4 w-4\" /> Schedule & Delivery\r\n            </h3>\r\n            <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n              <div className=\"flex items-center justify-between rounded-xl border p-3\">\r\n                <div>\r\n                  <div className=\"text-sm font-medium\">Schedule</div>\r\n                  <div className=\"text-xs text-gray-500\">Email reports automatically</div>\r\n                </div>\r\n                <Toggle checked={scheduleEnabled} onChange={setScheduleEnabled} id=\"schedule\" />\r\n              </div>\r\n\r\n              {scheduleEnabled && (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <label className=\"w-28 text-sm text-gray-600\">Frequency</label>\r\n                  <select value={scheduleFreq} onChange={(e) => setScheduleFreq(e.target.value)} className=\"w-full rounded-lg border p-2\">\r\n                    <option value=\"weekly\">Weekly</option>\r\n                    <option value=\"monthly\">Monthly</option>\r\n                    <option value=\"quarterly\">Quarterly</option>\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex items-center justify-between rounded-xl border p-3\">\r\n                <div>\r\n                  <div className=\"text-sm font-medium\">Download Now</div>\r\n                  <div className=\"text-xs text-gray-500\">Save file to device</div>\r\n                </div>\r\n                <Toggle checked={deliveryNow} onChange={setDeliveryNow} id=\"downloadNow\" />\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <label className=\"w-28 text-sm text-gray-600\">Email To</label>\r\n                <div className=\"flex w-full gap-2\">\r\n                  <input\r\n                    type=\"email\"\r\n                    value={deliveryEmail}\r\n                    onChange={(e) => setDeliveryEmail(e.target.value)}\r\n                    placeholder=\"e.g., admin@hospital.org\"\r\n                    className=\"w-full rounded-lg border p-2\"\r\n                  />\r\n                  <div title=\"Optional email destination\">\r\n                    <Mail className=\"w-5 h-5 text-gray-400\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          {/* Errors / Success */}\r\n          {error && (\r\n            <div className=\"mt-4 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-800\">{error}</div>\r\n          )}\r\n          {successMsg && (\r\n            <div className=\"mt-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800\">{successMsg}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex items-center justify-between gap-3 border-t p-5\">\r\n          <div className=\"text-xs text-gray-500\">\r\n            Your selections will generate consolidated reports with charts and summaries.\r\n          </div>\r\n          <div className=\"flex gap-3\">\r\n            <button onClick={onClose} className=\"rounded-xl border px-4 py-2 text-sm hover:bg-gray-50\">Cancel</button>\r\n            <button\r\n              onClick={handleGenerate}\r\n              disabled={loading}\r\n              className=\"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700 disabled:cursor-not-allowed disabled:opacity-60\"\r\n            >\r\n              {loading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Download className=\"h-4 w-4\" />}\r\n              {loading ? \"Generating...\" : \"Generate\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}