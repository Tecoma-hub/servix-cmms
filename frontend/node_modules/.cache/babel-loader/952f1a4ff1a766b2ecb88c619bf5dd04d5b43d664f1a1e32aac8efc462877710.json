{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\servix-cmms\\\\frontend\\\\src\\\\components\\\\maintenance\\\\Maintenance.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/maintenance/Maintenance.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../../utils/api';\nimport socket from '../../utils/socket';\nimport { Wrench, CalendarPlus, AlertTriangle, CheckCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Maintenance = ({\n  user,\n  setCurrentPage\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [history, setHistory] = useState([]); // completed tasks\n  const [search, setSearch] = useState('');\n  useEffect(() => {\n    setCurrentPage && setCurrentPage('maintenance');\n  }, [setCurrentPage]);\n\n  // Fetch completed tasks for history\n  const fetchHistory = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const res = await api.get('/tasks/history?limit=100');\n      setHistory(res.data.history || []);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to load maintenance history');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchHistory();\n  }, []);\n\n  // Live updates: push completed task into history immediately\n  useEffect(() => {\n    const onCompleted = ({\n      task\n    }) => {\n      if (!(task !== null && task !== void 0 && task._id)) return;\n      setHistory(prev => {\n        // Avoid duplicates\n        if (prev.some(t => t._id === task._id)) return prev;\n        return [task, ...prev];\n      });\n    };\n    socket.on('task:completed', onCompleted);\n    return () => socket.off('task:completed', onCompleted);\n  }, []);\n  const filteredHistory = useMemo(() => {\n    const q = (search || '').toLowerCase();\n    return history.filter(t => {\n      var _t$equipment, _t$assignedTo;\n      const title = (t.title || '').toLowerCase();\n      const desc = (t.description || '').toLowerCase();\n      const eq = (((_t$equipment = t.equipment) === null || _t$equipment === void 0 ? void 0 : _t$equipment.name) || '').toLowerCase();\n      const tech = (((_t$assignedTo = t.assignedTo) === null || _t$assignedTo === void 0 ? void 0 : _t$assignedTo.name) || '').toLowerCase();\n      const fault = (t.faultDescription || '').toLowerCase();\n      const comments = (t.comments || '').toLowerCase();\n      return !q || title.includes(q) || desc.includes(q) || eq.includes(q) || tech.includes(q) || fault.includes(q) || comments.includes(q);\n    });\n  }, [history, search]);\n  const formatDate = d => {\n    if (!d) return '—';\n    const dt = new Date(d);\n    return isNaN(dt.getTime()) ? '—' : dt.toLocaleString();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-slate-50 p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 text-slate-600\",\n          children: \"Loading maintenance data\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-50 p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-slate-800 flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"p-2 rounded-lg bg-gradient-to-r from-blue-600 to-green-500 text-white\",\n              children: /*#__PURE__*/_jsxDEV(Wrench, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), \"Maintenance Management\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-slate-600\",\n            children: \"Plan preventive work and review maintenance history\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/schedule-preventive'),\n            className: \"inline-flex items-center gap-2 px-5 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-xl transition\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarPlus, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), \"Schedule Preventive\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/report-issue'),\n            className: \"inline-flex items-center gap-2 px-5 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl transition\",\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), \"Report Issue\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow border border-slate-200 p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-slate-800 mb-4\",\n            children: \"Preventive Maintenance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12 text-slate-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"mx-auto h-12 w-12 text-slate-300\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3\",\n              children: \"No preventive maintenance tasks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"Get started by scheduling a new preventive maintenance task.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow border border-slate-200 p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-slate-800\",\n              children: \"Maintenance History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: search,\n                onChange: e => setSearch(e.target.value),\n                placeholder: \"Search history (title, equipment, tech, notes)\",\n                className: \"w-72 pl-3 pr-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 px-4 py-2 bg-red-100 text-red-700 rounded\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), filteredHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12 text-slate-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"mx-auto h-12 w-12 text-slate-300\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M9.172 16.172a4 4 0 005.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3\",\n              children: \"No maintenance history\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"Maintenance records will appear here when tasks are completed.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: filteredHistory.map(t => {\n              var _t$equipment2, _t$equipment3, _t$assignedTo2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-slate-200 rounded-xl p-4 hover:shadow transition\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                        className: \"w-5 h-5 text-green-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 171,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"text-lg font-semibold text-slate-800\",\n                        children: t.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-slate-600 mt-1\",\n                      children: t.description || '—'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-right text-sm text-slate-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-slate-600\",\n                        children: \"Completed:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 177,\n                        columnNumber: 30\n                      }, this), \" \", formatDate(t.completedDate)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 25\n                    }, this), t.dueDate && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-slate-600\",\n                        children: \"Due:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 44\n                      }, this), \" \", formatDate(t.dueDate)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 39\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-slate-600\",\n                      children: \"Equipment:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-slate-800\",\n                      children: [((_t$equipment2 = t.equipment) === null || _t$equipment2 === void 0 ? void 0 : _t$equipment2.name) || '—', \" \", (_t$equipment3 = t.equipment) !== null && _t$equipment3 !== void 0 && _t$equipment3.serialNumber ? `(${t.equipment.serialNumber})` : '']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-slate-600\",\n                      children: \"Technician:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-slate-800\",\n                      children: ((_t$assignedTo2 = t.assignedTo) === null || _t$assignedTo2 === void 0 ? void 0 : _t$assignedTo2.name) || '—'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-slate-600\",\n                      children: \"Task Type:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-slate-800\",\n                      children: t.taskType\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-slate-600\",\n                      children: \"Priority:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-slate-800\",\n                      children: t.priority\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 pt-3 border-t border-slate-100\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-slate-600 text-sm\",\n                      children: \"Fault Description:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-slate-800 text-sm mt-1\",\n                      children: t.faultDescription || '—'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-slate-600 text-sm\",\n                      children: \"Comments/Work Done:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-slate-800 text-sm mt-1\",\n                      children: t.comments || '—'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-slate-600 text-sm\",\n                      children: \"Spare Parts Used:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 25\n                    }, this), Array.isArray(t.spareParts) && t.spareParts.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"list-disc list-inside text-slate-800 text-sm mt-1\",\n                      children: t.spareParts.map((sp, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: sp.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 217,\n                          columnNumber: 33\n                        }, this), sp.quantity ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [\" \\xD7 \", sp.quantity]\n                        }, void 0, true) : null, sp.description ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [\" \\u2014 \", sp.description]\n                        }, void 0, true) : null]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-slate-800 text-sm mt-1\",\n                      children: \"\\u2014\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this)]\n              }, t._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(Maintenance, \"YSfJVEqPtXgLgymIRkf4VyyW3g8=\", false, function () {\n  return [useNavigate];\n});\n_c = Maintenance;\nexport default Maintenance;\nvar _c;\n$RefreshReg$(_c, \"Maintenance\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","api","socket","Wrench","CalendarPlus","AlertTriangle","CheckCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","Maintenance","user","setCurrentPage","_s","navigate","loading","setLoading","error","setError","history","setHistory","search","setSearch","fetchHistory","res","get","data","err","_err$response","_err$response$data","response","message","onCompleted","task","_id","prev","some","t","on","off","filteredHistory","q","toLowerCase","filter","_t$equipment","_t$assignedTo","title","desc","description","eq","equipment","name","tech","assignedTo","fault","faultDescription","comments","includes","formatDate","d","dt","Date","isNaN","getTime","toLocaleString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","type","value","onChange","e","target","placeholder","length","map","_t$equipment2","_t$equipment3","_t$assignedTo2","completedDate","dueDate","serialNumber","taskType","priority","Array","isArray","spareParts","sp","idx","quantity","_c","$RefreshReg$"],"sources":["C:/Users/USER/Desktop/servix-cmms/frontend/src/components/maintenance/Maintenance.js"],"sourcesContent":["// frontend/src/components/maintenance/Maintenance.js\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../../utils/api';\r\nimport socket from '../../utils/socket';\r\nimport { Wrench, CalendarPlus, AlertTriangle, CheckCircle } from 'lucide-react';\r\n\r\nconst Maintenance = ({ user, setCurrentPage }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [history, setHistory] = useState([]); // completed tasks\r\n  const [search, setSearch] = useState('');\r\n\r\n  useEffect(() => {\r\n    setCurrentPage && setCurrentPage('maintenance');\r\n  }, [setCurrentPage]);\r\n\r\n  // Fetch completed tasks for history\r\n  const fetchHistory = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      const res = await api.get('/tasks/history?limit=100');\r\n      setHistory(res.data.history || []);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to load maintenance history');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  // Live updates: push completed task into history immediately\r\n  useEffect(() => {\r\n    const onCompleted = ({ task }) => {\r\n      if (!task?._id) return;\r\n      setHistory(prev => {\r\n        // Avoid duplicates\r\n        if (prev.some(t => t._id === task._id)) return prev;\r\n        return [task, ...prev];\r\n      });\r\n    };\r\n    socket.on('task:completed', onCompleted);\r\n    return () => socket.off('task:completed', onCompleted);\r\n  }, []);\r\n\r\n  const filteredHistory = useMemo(() => {\r\n    const q = (search || '').toLowerCase();\r\n    return history.filter(t => {\r\n      const title = (t.title || '').toLowerCase();\r\n      const desc = (t.description || '').toLowerCase();\r\n      const eq = (t.equipment?.name || '').toLowerCase();\r\n      const tech = (t.assignedTo?.name || '').toLowerCase();\r\n      const fault = (t.faultDescription || '').toLowerCase();\r\n      const comments = (t.comments || '').toLowerCase();\r\n      return (\r\n        !q ||\r\n        title.includes(q) ||\r\n        desc.includes(q) ||\r\n        eq.includes(q) ||\r\n        tech.includes(q) ||\r\n        fault.includes(q) ||\r\n        comments.includes(q)\r\n      );\r\n    });\r\n  }, [history, search]);\r\n\r\n  const formatDate = (d) => {\r\n    if (!d) return '—';\r\n    const dt = new Date(d);\r\n    return isNaN(dt.getTime()) ? '—' : dt.toLocaleString();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 p-8\">\r\n        <div className=\"max-w-7xl mx-auto text-center\">\r\n          <div className=\"inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent\"></div>\r\n          <p className=\"mt-3 text-slate-600\">Loading maintenance data…</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50 p-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-slate-800 flex items-center gap-3\">\r\n              <span className=\"p-2 rounded-lg bg-gradient-to-r from-blue-600 to-green-500 text-white\">\r\n                <Wrench className=\"w-6 h-6\" />\r\n              </span>\r\n              Maintenance Management\r\n            </h1>\r\n            <p className=\"text-slate-600\">Plan preventive work and review maintenance history</p>\r\n          </div>\r\n\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={() => navigate('/schedule-preventive')}\r\n              className=\"inline-flex items-center gap-2 px-5 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-xl transition\"\r\n            >\r\n              <CalendarPlus className=\"w-5 h-5\" />\r\n              Schedule Preventive\r\n            </button>\r\n            <button\r\n              onClick={() => navigate('/report-issue')}\r\n              className=\"inline-flex items-center gap-2 px-5 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl transition\"\r\n            >\r\n              <AlertTriangle className=\"w-5 h-5\" />\r\n              Report Issue\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Two cards layout */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {/* Preventive Maintenance placeholder section (you can list PM tasks here later) */}\r\n          <div className=\"bg-white rounded-2xl shadow border border-slate-200 p-6\">\r\n            <h2 className=\"text-xl font-semibold text-slate-800 mb-4\">Preventive Maintenance</h2>\r\n            <div className=\"text-center py-12 text-slate-500\">\r\n              <svg className=\"mx-auto h-12 w-12 text-slate-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n              <p className=\"mt-3\">No preventive maintenance tasks</p>\r\n              <p className=\"text-sm\">Get started by scheduling a new preventive maintenance task.</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Maintenance History */}\r\n          <div className=\"bg-white rounded-2xl shadow border border-slate-200 p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-xl font-semibold text-slate-800\">Maintenance History</h2>\r\n              <div className=\"relative\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={search}\r\n                  onChange={(e) => setSearch(e.target.value)}\r\n                  placeholder=\"Search history (title, equipment, tech, notes)\"\r\n                  className=\"w-72 pl-3 pr-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"mb-4 px-4 py-2 bg-red-100 text-red-700 rounded\">{error}</div>\r\n            )}\r\n\r\n            {filteredHistory.length === 0 ? (\r\n              <div className=\"text-center py-12 text-slate-500\">\r\n                <svg className=\"mx-auto h-12 w-12 text-slate-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.172 16.172a4 4 0 005.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <p className=\"mt-3\">No maintenance history</p>\r\n                <p className=\"text-sm\">Maintenance records will appear here when tasks are completed.</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {filteredHistory.map(t => (\r\n                  <div key={t._id} className=\"border border-slate-200 rounded-xl p-4 hover:shadow transition\">\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                          <h3 className=\"text-lg font-semibold text-slate-800\">{t.title}</h3>\r\n                        </div>\r\n                        <p className=\"text-slate-600 mt-1\">{t.description || '—'}</p>\r\n                      </div>\r\n                      <div className=\"text-right text-sm text-slate-500\">\r\n                        <div><span className=\"text-slate-600\">Completed:</span> {formatDate(t.completedDate)}</div>\r\n                        {t.dueDate && <div><span className=\"text-slate-600\">Due:</span> {formatDate(t.dueDate)}</div>}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3 text-sm\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-slate-600\">Equipment:</span>\r\n                        <span className=\"font-medium text-slate-800\">{t.equipment?.name || '—'} {t.equipment?.serialNumber ? `(${t.equipment.serialNumber})` : ''}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-slate-600\">Technician:</span>\r\n                        <span className=\"font-medium text-slate-800\">{t.assignedTo?.name || '—'}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-slate-600\">Task Type:</span>\r\n                        <span className=\"font-medium text-slate-800\">{t.taskType}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-slate-600\">Priority:</span>\r\n                        <span className=\"font-medium text-slate-800\">{t.priority}</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Repair details */}\r\n                    <div className=\"mt-3 pt-3 border-t border-slate-100\">\r\n                      <div className=\"mb-2\">\r\n                        <span className=\"text-slate-600 text-sm\">Fault Description:</span>\r\n                        <p className=\"text-slate-800 text-sm mt-1\">{t.faultDescription || '—'}</p>\r\n                      </div>\r\n                      <div className=\"mb-2\">\r\n                        <span className=\"text-slate-600 text-sm\">Comments/Work Done:</span>\r\n                        <p className=\"text-slate-800 text-sm mt-1\">{t.comments || '—'}</p>\r\n                      </div>\r\n                      <div className=\"mb-2\">\r\n                        <span className=\"text-slate-600 text-sm\">Spare Parts Used:</span>\r\n                        {Array.isArray(t.spareParts) && t.spareParts.length > 0 ? (\r\n                          <ul className=\"list-disc list-inside text-slate-800 text-sm mt-1\">\r\n                            {t.spareParts.map((sp, idx) => (\r\n                              <li key={idx}>\r\n                                <span className=\"font-medium\">{sp.name}</span>\r\n                                {sp.quantity ? <> × {sp.quantity}</> : null}\r\n                                {sp.description ? <> — {sp.description}</> : null}\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        ) : (\r\n                          <p className=\"text-slate-800 text-sm mt-1\">—</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Maintenance;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}